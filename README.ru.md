# Protolinter

Protolinter - это инструмент командной строки для проверки и анализа файлов Protocol Buffer на соответствие конвенциям кодирования, лучшим практикам и стандартам.\
Он дает разработчикам возможность обеспечить правильность структуры файлов Protocol Buffer, их согласованность и соответствие рекомендациям.

## Возможности

- Проверка и анализ файлов Protocol Buffer.
- Проверка соответствия конвенциям кодирования и стандартам.
- Настраивается через конфигурационный файл `.protolinter.yaml`.
- Поддержка исключения конкретных проверок и дескрипторов.
- Генерация списка полных имен элементов protobuf.

## Установка

Вы можете установить Protolinter с помощью команды go install:

```sh
go install github.com/oshokin/protolinter/cmd/protolinter@latest
```

Если ваша компания или корпоративная сеть использует настройку GOPROXY, которая может повлиять на установку, убедитесь, что вместо этой команды будет использоваться следующая команда для установки последней версии:

```sh
GOPROXY=direct go install github.com/oshokin/protolinter/cmd/protolinter@latest
```

Кроме того, вы можете скомпилировать исполняемый файл, используя предоставленный Makefile:

```sh
make build
```

Скомпилированный исполняемый файл будет находиться в подкаталоге `bin`.

## Использование

```sh
# Проверка и анализ файлов protobuf
protolinter check [--config=<путь>] [--mimir] <file.proto>

# Генерация списка полных имен элементов protobuf
protolinter list <file.proto>
```

## Конфигурация

Protolinter поддерживает настройку через файл .protolinter.yaml.\
Если файл конфигурации отсутствует, Protolinter будет работать с настройками по умолчанию, выполняя все проверки и не исключая ни одного дескриптора proto из анализа.\
Вы можете определить исключенные проверки и дескрипторы для настройки анализа согласно потребностям вашего проекта.\
Пример файла конфигурации можно найти в `.protolinter.example.yaml`.

## Выполняемые проверки

Protolinter выполняет различные проверки ваших файлов Protocol Buffer.\
Следующие проверки могут быть исключены из анализа в файле конфигурации:

- `method_has_version`: Проверяет, указана ли версия для метода.
- `method_has_correct_input_name`: Проверяет, правильно ли назван входной параметр метода.
- `method_has_http_path`: Проверяет, указан ли HTTP-путь для метода.
- `method_has_body_tag`: Проверяет, правильно ли у методов с обязательным телом указан тег тела.
- `method_has_swagger_tags`: Проверяет, имеются ли соответствующие теги Swagger для метода.
- `method_has_swagger_summary`: Проверяет, имеется ли допустимое краткое описание Swagger для метода.
- `method_has_swagger_description`: Проверяет, имеется ли допустимое описание Swagger для метода.
- `field_has_correct_json_name`: Проверяет, правильно ли указан тег JSON-имени для поля.
- `field_has_no_description`: Проверяет, есть ли описание у поля.
- `field_description_starts_with_capital`: Проверяет, начинается ли описание поля с заглавной буквы.
- `field_description_ends_with_dot`: Проверяет, заканчивается ли описание поля точкой.
- `enum_value_has_comments`: Проверяет, есть ли ведущие комментарии у значения перечисления.